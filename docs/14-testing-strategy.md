# 14. 테스트 전략 (Testing Strategy)

프로젝트의 안정성을 보장하기 위한 테스트 접근 방식과 가이드라인입니다.

## 1. 테스트 원칙
- **계층별 독립 테스트**: Clean Architecture의 이점을 살려 각 계층을 독립적으로 테스트합니다.
- **자동화 중심**: 핵심 유즈케이스는 항상 자동화된 단위 테스트로 검증합니다.

## 2. 단위 테스트 (Unit Tests)
- **도메인 계층 (Use Cases)**:
    - 외부 의존성(Repository 등)을 Mock으로 처리하여 순수 로직만 검증합니다.
    - 예: `StartTimerUseCase`가 설정한 시간만큼 정확히 데이터를 방출하는지 확인.
- **프레젠테이션 계층 (ViewModels)**:
    - `StateFlow`에 노출되는 UI 상태가 올바르게 업데이트되는지 확인합니다.
    - 예: `startTimer()` 호출 시 `isTimerRunning`이 True가 되는지 검증.

## 3. 통합 테스트 (Integration Tests)
- **데이터 계층 (Room DB)**:
    - `androidTest`에서 실제 DB 인스턴스(inMemory)를 생성하여 DAO의 CRUD 작업이 정상 작동하는지 확인합니다.
    - 예: 세션 저장이 완료된 후 기록 목록을 조회했을 때 데이터가 일치하는지 확인.

## 4. UI 테스트 (Compose UI Specs)
- **컴포넌트 테스트**:
    - `composeTestRule`을 사용하여 각 컴포넌트(타이머 텍스트, 버튼)가 화면에 올바르게 그려지고 클릭 시 동작하는지 검증합니다.
- **스크린 내비게이션**:
    - 버튼 클릭 시 목적지 화면으로 이동하는지 확인합니다.

## 5. 수동 테스트 시나리오 (Manual QA)
1. 타이머를 10초로 설정하고 종료 시 기록 목록에 자동 저장되는가?
2. 일시정지 후 다시 시작했을 때 끊긴 시간부터 정확히 동작하는가?
3. 전면화면(Timer)에서 뒤로가기를 눌렀을 때 앱이 안전하게 종료되는가?
4. 기록 목록(History)이 날짜 역순(최신순)으로 잘 정렬되어 표시되는가?
